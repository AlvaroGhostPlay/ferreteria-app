<div class="contenedor">
  <div class="header">
    @if (mode === 'create') {
    <h1 class="color-blanco cliente-titulo">Crear Producto</h1>
    } @else if (mode === 'edit') {
    <h1 class="color-blanco cliente-titulo">Editar Producto</h1>
    } @else {
    <h1 class="color-blanco cliente-titulo">Ver Producto</h1>
    }
  </div>


  <div class="shadow-box">
    <div class="block-form-person-type">
      @if (product.id !== '' && product.id !== ' ') {
      <div class="campos">
        <div>
          <label class="color-blanco">Tipo de Documento</label>
        </div>
        <div class="campo-input">
          <input [(ngModel)]="product.price" type="documentTypePerson" [readonly]="true">
        </div>
      </div>
      <div class="campos">
        <div>
          <label class="color-blanco">Documento</label>
        </div>
        <div class="campo-input">
          <input [(ngModel)]="product.price" type="document" [readonly]="true">
        </div>
      </div>
            <div class="campos span-2">
        <div>
          <label class="color-blanco">User ID</label>
        </div>
        <div class="campo-input">
          <input [(ngModel)]="product.price" type="userId" [disabled]="true">
        </div>
      </div>
      }
      <div class="campos">
        <div>
          <label class="color-blanco">Username</label>
        </div>
        <div class="campo-input">
          <input [(ngModel)]="product.price" type="username" [readonly]="!canEdit('username')">
        </div>
      </div>
      <div class="campos">
        <div>
          <label class="color-blanco">Fecha de Creación</label>
        </div>
        <div class="campo-input">
          <input [(ngModel)]="product.price" type="text" [disabled]="!canEdit('createdAt')">
        </div>
      </div>


      <div class="campos">
        <div>
          <label class="color-blanco">Fecha de Ultima Actualización</label>

        </div>
        <div class="campo-input">
          <input [(ngModel)]="product.price" type="text" [disabled]="!canEdit('updateDate')">
        </div>
      </div>


      <div class="campos">
        <div>
          <label class="color-blanco" class="color-blanco">Necesita Cambiar Contraseña</label>
        </div>
        <div class="campo-input">
          <select class="form-select" name="enabled" [disabled]="!canEdit('')" [(ngModel)]="product.price"
            (ngModelChange)="onEnabledChange($event)" required>
            <!-- Placeholder: seleccionado solo cuando el valor es '' -->
            <option value="" disabled>
              Seleccione opción
            </option>

            <!-- Opciones reales -->
            @for (pt of types; track pt) {
            <option [value]="pt">
              {{ pt ? 'Sí' : 'No' }}
            </option>
            }
          </select>
        </div>
      </div>

      <div class="campos">
        <div>
          <label class="color-blanco" class="color-blanco">Habilitado</label>
        </div>
        <div class="campo-input">
          <select class="form-select" name="enabled" [disabled]="!canEdit('')" [(ngModel)]="product.price"
            (ngModelChange)="onEnabledChange($event)" required>
            <!-- Placeholder: seleccionado solo cuando el valor es '' -->
            <option value="" disabled>
              Seleccione opción
            </option>

            <!-- Opciones reales -->
            @for (pt of types; track pt) {
            <option [value]="pt">
              {{ pt ? 'Sí' : 'No' }}
            </option>
            }
          </select>
        </div>
      </div>
    </div>
    @if(mode !== 'view') {
    <div class="flex">
      <div class="btn-right">
        <button class="btn btn-primary" (click)="save()">Guardar</button>
      </div>
    </div>
    }
  </div>
</div>