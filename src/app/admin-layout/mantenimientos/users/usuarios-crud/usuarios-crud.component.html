<div class="contenedor">
  <div class="header">
    @if (mode === 'create') {
    <h1 class="color-blanco cliente-titulo">Crear Cliente</h1>
    } @else if (mode === 'edit') {
    <h1 class="color-blanco cliente-titulo">Editar Cliente</h1>
    } @else {
      <h1 class="color-blanco cliente-titulo">Ver Cliente</h1>
    }
  </div>
  
  <div class="shadow-box">
<div class="block-form-person-type">
    <div class="campos">
      <div>
        <label class="color-blanco" for="">Roles</label>

      </div>
      <div class="campo-input">
        <select class="form-select" name="role" [(ngModel)]="selectedRoleId"
          (ngModelChange)="onRoleSelected($event)" [disabled]="isEdit && hasValue(selectedRoleId)" required>
          <option value="" disabled>Seleccione opción</option>
          @for (role of roles; track role.roleId) {
          <option [value]="role.roleId">{{ role.roleName }}</option>
          }
        </select>
      </div>
    </div>

    <div class="campos">
      <div>
        <label class="color-blanco">Username</label>
      </div>
      <div class="campo-input">
        <input [(ngModel)]="user.username" type="username">
      </div>
    </div>
    <div class="campos span-2">
      <div>
        <label class="color-blanco">User ID</label>
      </div>
      <div class="campo-input">
        <input [(ngModel)]="user.userId" type="userId">
      </div>
    </div>
  </div>

  <div class="block-form">
    <div class="campos">
      <div>
        <label class="color-blanco">Fecha de Creación</label>
      </div>
      <div class="campo-input">
        <input [(ngModel)]="user.createdAt" type="text">
      </div>
    </div>


    <div class="campos">
      <div>
        <label class="color-blanco">Fecha de Ultima Actualización</label>

      </div>
      <div class="campo-input">
        <input [(ngModel)]="user.passUpdateAt" type="text">
      </div>
    </div>


        <div class="campos">
      <div>
        <label class="color-blanco" class="color-blanco">Necesita Cambiar Contraseña</label>
      </div>
      <div class="campo-input">
        <select class="form-select" name="enabled" [(ngModel)]="user.mostChangePass" (ngModelChange)="onEnabledChange($event)"
          required>
          <!-- Placeholder: seleccionado solo cuando el valor es '' -->
          <option value="" disabled>
            Seleccione opción
          </option>

          <!-- Opciones reales -->
          @for (pt of types; track pt) {
          <option [value]="pt">
            {{ pt ? 'Sí' : 'No' }}
          </option>
          }
        </select>
      </div>
    </div>

  </div>

  <div class="block-form-person-type">
    <div class="campos">
      <div>
        <label class="color-blanco" class="color-blanco">Habilitado</label>
      </div>
      <div class="campo-input">
        <select class="form-select" name="enabled" [(ngModel)]="user.enabled" (ngModelChange)="onEnabledChange($event)"
          required>
          <!-- Placeholder: seleccionado solo cuando el valor es '' -->
          <option value="" disabled>
            Seleccione opción
          </option>

          <!-- Opciones reales -->
          @for (pt of types; track pt) {
          <option [value]="pt">
            {{ pt ? 'Sí' : 'No' }}
          </option>
          }
        </select>
      </div>
    </div>
  </div>

  @if(mode !== 'view') {
      <div class="flex">
     <div class="btn-right">
    <button class="btn btn-primary" (click)="save()">Guardar</button>






  </div>
  </div>
  }

  </div>
</div>
